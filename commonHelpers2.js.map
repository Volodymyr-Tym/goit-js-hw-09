{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n  email: '',\n  message: '',\n};\nconst form = document.querySelector('.feedback-form');\n\nconst loadDataFromLS = key => {\n  try {\n    const formDataFromLS = localStorage.getItem(key);\n\n    if (formDataFromLS !== null) {\n      const parsedData = JSON.parse(formDataFromLS);\n      formData = parsedData;\n      return parsedData;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst saveDataToLS = (key, value) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst fillFormFieldsFromLS = () => {\n  const dataFromLS = loadDataFromLS('feedback-form-state');\n\n  if (dataFromLS !== undefined) {\n    form.email.value = dataFromLS.email;\n    form.message.value = dataFromLS.message;\n\n    return;\n  }\n};\n\nconst onFormFieldInput = event => {\n  const fieldName = event.target.name;\n  const fieldValue = event.target.value;\n\n  if (fieldName === 'email') {\n    formData.email = fieldValue.trim();\n  } else {\n    formData.message = fieldValue.trim();\n  }\n\n  saveDataToLS('feedback-form-state', formData);\n};\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  if (form.email.value.trim() === '' || form.message.value.trim() === '') {\n    alert('Fill please all fields');\n  } else {\n    console.log(formData);\n    formData.email = '';\n    formData.message = '';\n    localStorage.removeItem('feedback-form-state');\n    event.target.reset();\n  }\n};\n\nform.addEventListener('input', onFormFieldInput);\nform.addEventListener('submit', onFormSubmit);\n\nfillFormFieldsFromLS();\n"],"names":["formData","form","loadDataFromLS","key","formDataFromLS","parsedData","err","saveDataToLS","value","fillFormFieldsFromLS","dataFromLS","onFormFieldInput","event","fieldName","fieldValue","onFormSubmit"],"mappings":"oDAAA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EACA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAiBC,GAAO,CAC5B,GAAI,CACF,MAAMC,EAAiB,aAAa,QAAQD,CAAG,EAE/C,GAAIC,IAAmB,KAAM,CAC3B,MAAMC,EAAa,KAAK,MAAMD,CAAc,EAC5C,OAAAJ,EAAWK,EACJA,CACR,CACF,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEMC,EAAe,CAACJ,EAAKK,IAAU,CACnC,GAAI,CACF,aAAa,QAAQL,EAAK,KAAK,UAAUK,CAAK,CAAC,CAChD,OAAQF,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEMG,EAAuB,IAAM,CACjC,MAAMC,EAAaR,EAAe,qBAAqB,EAEvD,GAAIQ,IAAe,OAAW,CAC5BT,EAAK,MAAM,MAAQS,EAAW,MAC9BT,EAAK,QAAQ,MAAQS,EAAW,QAEhC,MACD,CACH,EAEMC,EAAmBC,GAAS,CAChC,MAAMC,EAAYD,EAAM,OAAO,KACzBE,EAAaF,EAAM,OAAO,MAE5BC,IAAc,QAChBb,EAAS,MAAQc,EAAW,OAE5Bd,EAAS,QAAUc,EAAW,OAGhCP,EAAa,sBAAuBP,CAAQ,CAC9C,EAEMe,EAAeH,GAAS,CAC5BA,EAAM,eAAc,EAEhBX,EAAK,MAAM,MAAM,KAAI,IAAO,IAAMA,EAAK,QAAQ,MAAM,KAAI,IAAO,GAClE,MAAM,wBAAwB,GAE9B,QAAQ,IAAID,CAAQ,EACpBA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnB,aAAa,WAAW,qBAAqB,EAC7CY,EAAM,OAAO,QAEjB,EAEAX,EAAK,iBAAiB,QAASU,CAAgB,EAC/CV,EAAK,iBAAiB,SAAUc,CAAY,EAE5CN,EAAsB"}